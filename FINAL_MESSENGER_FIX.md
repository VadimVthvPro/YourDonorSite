# ‚úÖ –ß–ê–¢ –ú–ï–î–¶–ï–ù–¢–†–ê –ò–°–ü–†–ê–í–õ–ï–ù + –°–ï–†–í–ï–† –†–ê–ë–û–¢–ê–ï–¢

## üìã –°–í–û–î–ö–ê

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| –ê) –ß–∞—Ç –º–µ–¥—Ü–µ–Ω—Ç—Ä–∞ –Ω–µ –ø–æ—Ö–æ–∂ –Ω–∞ —á–∞—Ç –¥–æ–Ω–æ—Ä–∞ | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û |
| –ë) –°–µ—Ä–≤–µ—Ä –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ |

---

## –ë) –°–ï–†–í–ï–†

### –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
$ curl http://localhost:5001/api/health
{
  "database": "ok",
  "status": "ok"
}

$ lsof -ti:5001
9130
10301
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5001

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:**
```bash
lsof -ti:5001 | xargs kill -9 2>/dev/null
sleep 2
cd /Users/VadimVthv/Your_donor/website/backend
python3 app.py
```

---

## –ê) –ß–ê–¢ –ú–ï–î–¶–ï–ù–¢–†–ê

### üîç –ê–Ω–∞–ª–∏–∑

**–ü—Ä–æ–≤–µ—Ä–∫–∞ HTML:**
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–∞ —á–∞—Ç—É –¥–æ–Ω–æ—Ä–∞
- ‚úÖ –í—Å–µ ID —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ–≤–ø–∞–¥–∞—é—Ç
- ‚úÖ `messenger.js` –ø–æ–¥–∫–ª—é—á–µ–Ω

**–ü—Ä–æ–≤–µ—Ä–∫–∞ CSS:**
- ‚ùå –ü—Ä–∞–≤–∏–ª–∞ –±—ã–ª–∏ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–º–∏
- ‚ùå –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª–∞

### ‚úÖ –†–µ—à–µ–Ω–∏–µ

–£–ø—Ä–æ—â–µ–Ω—ã CSS –ø—Ä–∞–≤–∏–ª–∞ –¥–æ –º–∏–Ω–∏–º—É–º–∞:

```css
/* –§–∞–π–ª: messenger.css */

/* –ë–∞–∑–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ */
.dashboard-section#messages {
    padding: 0 !important;
    margin: 0 !important;
}

/* –ö–æ–≥–¥–∞ —Å–µ–∫—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞ - –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é –≤—ã—Å–æ—Ç—É */
.dashboard-section#messages.active {
    display: flex !important;
    flex-direction: column;
    height: calc(100vh - 80px);
    min-height: 500px;
}

/* –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
.dashboard-section#messages .section-header {
    display: none;
}
```

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**
- –£–¥–∞–ª–µ–Ω—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è `.medcenter-page`
- –£–¥–∞–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è `.dashboard-page:not(.medcenter-page)`
- –û—Å—Ç–∞–≤–ª–µ–Ω–æ —Ç–æ–ª—å–∫–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ HTML —É –¥–æ–Ω–æ—Ä–∞ –∏ –º–µ–¥—Ü–µ–Ω—Ç—Ä–∞
- –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ JavaScript (`messenger.js`)
- –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ CSS (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π)
- –†–æ–ª—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ JS (—á–µ—Ä–µ–∑ `body.classList.contains('medcenter-page')`)

---

## üéØ –°–¢–†–£–ö–¢–£–†–ê –ß–ê–¢–ê (–û–î–ò–ù–ê–ö–û–í–ê–Ø)

```
.dashboard-section#messages.active
  ‚îî‚îÄ .messenger-container
      ‚îú‚îÄ .conversations-panel (–ª–µ–≤–∞—è –ø–∞–Ω–µ–ª—å)
      ‚îÇ   ‚îú‚îÄ .conversations-header
      ‚îÇ   ‚îÇ   ‚îú‚îÄ –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–î–∏–∞–ª–æ–≥–∏"
      ‚îÇ   ‚îÇ   ‚îî‚îÄ –ü–æ–∏—Å–∫
      ‚îÇ   ‚îî‚îÄ .conversations-list
      ‚îÇ       ‚îî‚îÄ –°–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤
      ‚îÇ
      ‚îî‚îÄ .chat-panel (–ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å)
          ‚îú‚îÄ .chat-empty (–ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
          ‚îú‚îÄ .chat-header (header —á–∞—Ç–∞)
          ‚îÇ   ‚îú‚îÄ –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" (mobile)
          ‚îÇ   ‚îú‚îÄ –ê–≤–∞—Ç–∞—Ä
          ‚îÇ   ‚îú‚îÄ –ò–º—è + —Å—Ç–∞—Ç—É—Å
          ‚îÇ   ‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è (—Ç–æ–ª—å–∫–æ –º–µ–¥—Ü–µ–Ω—Ç—Ä)
          ‚îú‚îÄ .chat-messages (–æ–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π)
          ‚îÇ   ‚îî‚îÄ –°–æ–æ–±—â–µ–Ω–∏—è (—Å–∫—Ä–æ–ª–ª)
          ‚îî‚îÄ .chat-input (–ø–æ–ª–µ –≤–≤–æ–¥–∞)
              ‚îú‚îÄ textarea
              ‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
```

**–û—Ç–ª–∏—á–∏–µ –¥–ª—è –º–µ–¥—Ü–µ–Ω—Ç—Ä–∞:**
- –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ—Ñ–∏–ª—å –¥–æ–Ω–æ—Ä–∞" –≤ header (—Ç–æ–ª—å–∫–æ —É –º–µ–¥—Ü–µ–Ω—Ç—Ä–∞)
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –¥–æ–Ω–æ—Ä–∞

---

## üìä –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –†–û–õ–¨

### JavaScript (`messenger.js`)

```javascript
detectUserRole() {
    if (document.body.classList.contains('medcenter-page')) {
        return 'medical_center';
    }
    return 'donor';
}
```

### HTML

**–î–æ–Ω–æ—Ä:**
```html
<body class="dashboard-page">
```

**–ú–µ–¥—Ü–µ–Ω—Ç—Ä:**
```html
<body class="dashboard-page medcenter-page">
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

- **–î–æ–Ω–æ—Ä:** `userRole = 'donor'`
  - –°–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è: `sender_role === 'donor'` ‚Üí —Å–ø—Ä–∞–≤–∞ (—Å–∏–Ω–∏–µ)
  - –ß—É–∂–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è: `sender_role === 'medical_center'` ‚Üí —Å–ª–µ–≤–∞ (—Å–µ—Ä—ã–µ)

- **–ú–µ–¥—Ü–µ–Ω—Ç—Ä:** `userRole = 'medical_center'`
  - –°–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è: `sender_role === 'medical_center'` ‚Üí —Å–ø—Ä–∞–≤–∞ (—Å–∏–Ω–∏–µ)
  - –ß—É–∂–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è: `sender_role === 'donor'` ‚Üí —Å–ª–µ–≤–∞ (—Å–µ—Ä—ã–µ)

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –¢–µ—Å—Ç 1: –°–µ—Ä–≤–µ—Ä

```bash
curl http://localhost:5001/api/health
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
```json
{
  "database": "ok",
  "status": "ok"
}
```

‚úÖ –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ –æ—Ç–≤–µ—Ç - —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¢–µ—Å—Ç 2: –ß–∞—Ç –¥–æ–Ω–æ—Ä–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8080/pages/donor-dashboard.html`**
2. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –¥–æ–Ω–æ—Ä**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–°–æ–æ–±—â–µ–Ω–∏—è":**
   - ‚úÖ –í–∏–¥–Ω—ã –¥–∏–∞–ª–æ–≥–∏ —Å–ª–µ–≤–∞
   - ‚úÖ –ß–∞—Ç —Å–ø—Ä–∞–≤–∞
   - ‚úÖ –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å

### –¢–µ—Å—Ç 3: –ß–∞—Ç –º–µ–¥—Ü–µ–Ω—Ç—Ä–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8080/pages/medcenter-dashboard.html`**
2. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –º–µ–¥—Ü–µ–Ω—Ç—Ä**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–°–æ–æ–±—â–µ–Ω–∏—è":**
   - ‚úÖ –í–∏–¥–Ω—ã –¥–∏–∞–ª–æ–≥–∏ —Å–ª–µ–≤–∞
   - ‚úÖ –ß–∞—Ç —Å–ø—Ä–∞–≤–∞
   - ‚úÖ –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ—Ñ–∏–ª—å –¥–æ–Ω–æ—Ä–∞" –≤ header

### –¢–µ—Å—Ç 4: –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–∏–∑–∞–π–Ω

**–°—Ä–∞–≤–Ω–∏—Ç–µ –¥–æ–Ω–æ—Ä–∞ –∏ –º–µ–¥—Ü–µ–Ω—Ç—Ä–∞:**

| –≠–ª–µ–º–µ–Ω—Ç | –î–æ–Ω–æ—Ä | –ú–µ–¥—Ü–µ–Ω—Ç—Ä |
|---------|-------|----------|
| –°–ø–∏—Å–æ–∫ –¥–∏–∞–ª–æ–≥–æ–≤ | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å |
| –ü–æ–∏—Å–∫ –¥–∏–∞–ª–æ–≥–æ–≤ | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å |
| Header —á–∞—Ç–∞ | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å |
| –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å |
| –ü–æ–ª–µ –≤–≤–æ–¥–∞ | ‚úÖ –ï—Å—Ç—å | ‚úÖ –ï—Å—Ç—å |
| –°–∫—Ä–æ–ª–ª | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∏–∑–∞–π–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–µ–Ω ‚úÖ

---

## ‚ú® –†–ï–ó–£–õ–¨–¢–ê–¢

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –î–æ–Ω–æ—Ä | –ú–µ–¥—Ü–µ–Ω—Ç—Ä |
|----------|-------|----------|
| **HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | ‚úÖ | ‚úÖ |
| **CSS —Å—Ç–∏–ª–∏** | ‚úÖ | ‚úÖ |
| **JavaScript –ª–æ–≥–∏–∫–∞** | ‚úÖ | ‚úÖ |
| **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–∏** | ‚úÖ | ‚úÖ |
| **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π** | ‚úÖ | ‚úÖ |
| **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ markdown** | ‚úÖ | ‚úÖ |
| **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** | ‚úÖ | ‚úÖ |
| **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** | ‚úÖ | ‚úÖ |

**–ß–∞—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç!** ‚ú®

---

## üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø

**–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (Ctrl+Shift+R):**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   curl http://localhost:5001/api/health
   ```
   - –î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å `{"status": "ok"}`

2. **–î–æ–Ω–æ—Ä ‚Üí "–°–æ–æ–±—â–µ–Ω–∏—è":**
   - ‚úÖ –í–∏–¥–Ω—ã –¥–∏–∞–ª–æ–≥–∏
   - ‚úÖ –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å

3. **–ú–µ–¥—Ü–µ–Ω—Ç—Ä ‚Üí "–°–æ–æ–±—â–µ–Ω–∏—è":**
   - ‚úÖ –í–∏–¥–Ω—ã –¥–∏–∞–ª–æ–≥–∏
   - ‚úÖ –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å
   - ‚úÖ –î–∏–∑–∞–π–Ω —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ —É –¥–æ–Ω–æ—Ä–∞

4. **–û–¥–æ–±—Ä–∏—Ç–µ –¥–æ–Ω–æ—Ä–∞:**
   - ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è –¥–∏–∞–ª–æ–≥
   - ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
   - ‚úÖ –ú–µ–¥—Ü–µ–Ω—Ç—Ä –≤–∏–¥–∏—Ç –¥–∏–∞–ª–æ–≥
   - ‚úÖ –î–æ–Ω–æ—Ä –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ

---

## üìù –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´

**–§–∞–π–ª:** `website/css/messenger.css`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–ø—Ä–æ—â–µ–Ω—ã CSS –ø—Ä–∞–≤–∏–ª–∞
- –£–¥–∞–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
- –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–¥

**–°—Ç—Ä–æ–∫–∏:** 1-30

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–ê–¢ –ú–ï–î–¶–ï–ù–¢–†–ê –†–ê–ë–û–¢–ê–ï–¢

---

## üéâ –ò–¢–û–ì

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ß–∞—Ç –º–µ–¥—Ü–µ–Ω—Ç—Ä–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª
- ‚ùå CSS –ø—Ä–∞–≤–∏–ª–∞ –±—ã–ª–∏ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–º–∏

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–ø—Ä–æ—â—ë–Ω CSS
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ—Ç –∂–µ –∫–æ–¥ –¥–ª—è –æ–±–µ–∏—Ö —Ä–æ–ª–µ–π
- ‚úÖ –†–æ–ª—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ß–∞—Ç –¥–æ–Ω–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ß–∞—Ç –º–µ–¥—Ü–µ–Ω—Ç—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –î–∏–∑–∞–π–Ω –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–°–∏—Å—Ç–µ–º–∞ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞!** ‚ú®üéâ
