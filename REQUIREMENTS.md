# Системные требования

Данный документ содержит минимальные требования для запуска платформы "Твой Донор".

## Программное обеспечение

### Обязательные компоненты

**Python**
- Версия: 3.8 или выше
- Рекомендуется: Python 3.10+
- Проверка версии: `python3 --version`

**PostgreSQL**
- Версия: 12.0 или выше
- Рекомендуется: PostgreSQL 14+
- Проверка версии: `psql --version`
- Требуется для хранения всех данных платформы

**pip (Python Package Manager)**
- Обычно устанавливается вместе с Python
- Проверка: `pip3 --version`

### Опциональные компоненты

**Git** (для клонирования репозитория)
- Любая актуальная версия
- Проверка: `git --version`

**Веб-сервер** (для продакшена)
- Nginx 1.18+ или Apache 2.4+
- Для разработки достаточно встроенного HTTP сервера Python

## Python зависимости

Все зависимости указаны в файле `website/backend/requirements.txt`:

```
Flask==3.0.0
Flask-CORS==4.0.0
psycopg2-binary==2.9.9
python-telegram-bot==20.7
python-dotenv==1.0.0
requests==2.31.0
```

Установка всех зависимостей:
```bash
pip install -r website/backend/requirements.txt
```

### Описание ключевых зависимостей

- **Flask** - веб-фреймворк для REST API
- **Flask-CORS** - обработка кросс-доменных запросов
- **psycopg2-binary** - адаптер PostgreSQL для Python
- **python-telegram-bot** - библиотека для Telegram Bot API
- **python-dotenv** - загрузка переменных окружения из .env
- **requests** - HTTP-клиент для внешних запросов

## Системные ресурсы

### Минимальные требования

**Процессор:**
- 1 ядро (достаточно для разработки)
- 2+ ядра (рекомендуется для продакшена)

**Оперативная память:**
- Минимум: 512 МБ
- Рекомендуется: 1 ГБ+
- Для активного использования с множеством пользователей: 2 ГБ+

**Дисковое пространство:**
- Минимум: 500 МБ
- Рекомендуется: 2 ГБ (с учетом логов и роста БД)

**Сетевые порты:**
- 5001 - Flask API (по умолчанию)
- 8080 - Frontend HTTP сервер (разработка)
- 5432 - PostgreSQL (стандартный)
- 80/443 - HTTP/HTTPS (для продакшена с Nginx)

## База данных PostgreSQL

### Требования к конфигурации

**Настройки:**
- Кодировка: UTF8
- Locale: любая поддерживающая UTF8
- Максимальное количество соединений: минимум 20

**Пользователь:**
- Права: CREATE DATABASE, CREATE TABLE, SELECT, INSERT, UPDATE, DELETE
- Рекомендуется создать отдельного пользователя для приложения

**Размер базы данных:**
- Начальный размер: ~5 МБ (пустая схема)
- Ожидаемый рост: ~1 МБ на 1000 пользователей
- Рекомендуется: минимум 100 МБ свободного места

## Внешние сервисы

### Telegram Bot API

**Требования:**
- Зарегистрированный бот через @BotFather
- Токен бота (формат: `1234567890:ABCdefGHI...`)
- Доступ к api.telegram.org (для отправки сообщений)

**Для Telegram WebApp:**
- Обязателен HTTPS (не работает с HTTP)
- Валидный SSL сертификат
- Публично доступный домен

### Сетевой доступ

**Исходящие соединения:**
- api.telegram.org:443 (Telegram Bot API)
- fonts.googleapis.com:443 (веб-шрифты, опционально)

**Входящие соединения:**
- HTTP (80) и/или HTTPS (443) для веб-интерфейса
- Опционально: SSH (22) для удаленного управления

## Операционная система

### Поддерживаемые ОС

**Linux** (рекомендуется)
- Ubuntu 20.04+ / Debian 10+
- CentOS 8+ / RHEL 8+
- Любой другой дистрибутив с Python 3.8+

**macOS**
- macOS 10.15 (Catalina) или новее
- Homebrew для установки зависимостей (рекомендуется)

**Windows**
- Windows 10/11
- WSL2 (рекомендуется для разработки)
- Или нативная установка Python и PostgreSQL

## Браузеры (для пользователей)

### Минимальные версии

**Desktop:**
- Google Chrome 90+
- Mozilla Firefox 88+
- Safari 14+
- Microsoft Edge 90+

**Mobile:**
- iOS Safari 14+
- Chrome for Android 90+
- Samsung Internet 14+

### Требуемые функции браузера
- JavaScript ES6+ (стрелочные функции, async/await, fetch API)
- CSS Grid и Flexbox
- LocalStorage
- Современная поддержка HTML5

## Безопасность

### Обязательные требования для продакшена

**SSL/TLS:**
- Валидный SSL сертификат (например, Let's Encrypt)
- TLS 1.2 или выше
- Обязателен для Telegram WebApp

**Файрволл:**
- Закрыты все неиспользуемые порты
- Открыт только 80, 443, и опционально 22 (SSH)

**Переменные окружения:**
- Все секретные данные в .env файле
- .env файл не должен быть доступен через веб-сервер
- Права доступа к .env: 600 (только владелец)

## Рекомендации для разработки

**IDE/Редактор:**
- VS Code, PyCharm, Sublime Text или любой другой
- Рекомендуется с поддержкой Python и SQL

**Дополнительные инструменты:**
- `psql` для работы с PostgreSQL через командную строку
- `curl` или Postman для тестирования API
- DevTools браузера для отладки frontend

## Ограничения и масштабируемость

**Текущая архитектура подходит для:**
- До 1000 одновременных пользователей
- До 10000 зарегистрированных доноров
- До 100 медицинских центров
- До 1000 запросов крови в месяц

**Для больших нагрузок требуется:**
- Кеширование (Redis)
- Балансировщик нагрузки
- Репликация PostgreSQL
- WebSocket вместо Long Polling для мессенджера
- Очередь задач (Celery) для фоновой обработки
