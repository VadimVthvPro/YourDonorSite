# ДонорБай - Веб-платформа донорства крови в Беларуси

Современная веб-платформа для координации донорства крови в Республике Беларусь. Проект призван популяризировать донорство и упростить взаимодействие между донорами и медицинскими центрами.

## Описание проекта

ДонорБай — это полноценный веб-сайт, который заменяет функционал Telegram-бота и предоставляет расширенные возможности для доноров и медицинских центров. Telegram остаётся каналом для срочных уведомлений.

### Основные функции

#### Для доноров:
- Регистрация с указанием группы крови, города и медцентра
- Личный кабинет с историей донаций
- Просмотр актуальных запросов на кровь
- Отклик на запросы медцентров
- Уведомления в Telegram о срочных потребностях
- Загрузка медицинской справки

#### Для медцентров:
- Донорский светофор — управление статусом потребности в крови
- Просмотр и управление откликами доноров
- База привязанных доноров
- Статистика донаций
- Отправка срочных запросов с автоматической рассылкой

## Структура проекта

```
website/
├── index.html              # Главная страница с информацией о донорстве
├── css/
│   ├── styles.css          # Основные стили
│   ├── auth.css            # Стили авторизации
│   ├── dashboard.css       # Стили личных кабинетов
│   └── medcenter.css       # Дополнительные стили медцентра
├── js/
│   ├── app.js              # Основной JS (анимации, FAQ, навигация)
│   ├── auth.js             # Логика авторизации
│   ├── donor-dashboard.js  # Личный кабинет донора
│   └── medcenter-dashboard.js # Меню медцентра
├── pages/
│   ├── auth.html           # Страница авторизации
│   ├── donor-dashboard.html # Личный кабинет донора
│   └── medcenter-dashboard.html # Меню медцентра
├── data/
│   └── medcenters.json     # База медцентров Беларуси
├── images/                 # Изображения и иконки
└── backend/
    ├── app.py              # Flask API сервер
    ├── create_database.sql # Структура БД
    └── requirements.txt    # Python зависимости
```

## Установка и запуск

### Фронтенд (статический сайт)

Для разработки можно использовать любой локальный сервер:

```bash
# Python
cd website
python -m http.server 8000

# Node.js
npx serve

# VS Code / Cursor
# Используйте расширение Live Server
```

Откройте http://localhost:8000 в браузере.

### Бэкенд (Flask API)

1. Установите зависимости:
```bash
cd website/backend
pip install -r requirements.txt
```

2. Настройте базу данных PostgreSQL:
```bash
psql -U postgres -f create_database.sql
```

3. Создайте файл `.env`:
```env
DB_HOST=localhost
DB_NAME=donorbay
DB_USER=postgres
DB_PASSWORD=your_password
DB_PORT=5432
TELEGRAM_BOT_TOKEN=your_bot_token
MASTER_PASSWORD=doctor2024
```

4. Запустите сервер:
```bash
python app.py
```

API будет доступен на http://localhost:5000

## Технологии

### Фронтенд
- HTML5 + CSS3 (CSS Variables, Flexbox, Grid)
- Vanilla JavaScript (ES6+)
- Адаптивный дизайн (Mobile First)
- CSS анимации и переходы
- Google Fonts (Manrope, Playfair Display)

### Бэкенд
- Python 3.8+
- Flask (веб-фреймворк)
- PostgreSQL (база данных)
- psycopg2 (драйвер PostgreSQL)
- Telegram Bot API (уведомления)

## API Endpoints

### Авторизация
- `POST /api/donor/login` - Вход донора
- `POST /api/donor/register` - Регистрация донора
- `POST /api/medcenter/login` - Вход медцентра
- `POST /api/medcenter/register` - Регистрация медцентра

### Донорский светофор
- `GET /api/blood-needs/<mc_id>` - Получить статусы крови
- `PUT /api/blood-needs/<mc_id>` - Обновить статус

### Отклики
- `GET /api/responses/<mc_id>` - Список откликов
- `POST /api/responses` - Создать отклик
- `PUT /api/responses/<id>` - Обновить статус отклика

### Доноры
- `GET /api/donors/<mc_id>` - Список доноров медцентра
- `GET /api/donor/<id>` - Информация о доноре
- `PUT /api/donor/<id>` - Обновить данные донора

### Запросы
- `GET /api/requests/available/<blood_type>` - Активные запросы

### Медцентры
- `GET /api/medcenters` - Список медцентров

## Дизайн-система

### Цветовая палитра
- Основной (красный): `#dc2626`
- Акцентный (синий): `#2563eb`
- Успех (зелёный): `#10b981`
- Предупреждение (жёлтый): `#f59e0b`
- Опасность (красный): `#ef4444`

### Типографика
- Заголовки: Playfair Display
- Текст: Manrope

### Анимации
- Hover-эффекты на кнопках и карточках
- Плавное появление элементов при скролле
- Пульсация для срочных статусов

## Интеграция с Telegram

При установке статуса "Срочно" в донорском светофоре или отправке срочного запроса, система автоматически отправляет уведомления всем донорам с подходящей группой крови через Telegram-бота.

### Привязка Telegram
1. Донор указывает свой username при регистрации или в профиле
2. Система сохраняет telegram_id при первом сообщении боту
3. Уведомления отправляются через Telegram Bot API

## Лицензия

MIT License

## Автор

Разработано для популяризации донорства крови в Республике Беларусь.

---

**Сохраняйте жизни — станьте донором!**
